export class Code{constructor(){this.colors=[{id:0,color:"red"},{id:1,color:"green"},{id:2,color:"orange"}],this.codes=[{id:"default",translation:"default",color:0},{id:"emailInvalid",translation:"email_invalid",color:0},{id:"emailNotFound",translation:"email_not_found",color:0},{id:"emailSent",translation:"email_sent",color:1},{id:"emailAlreadyActivated",translation:"email_already_activated",color:2},{id:"emailAlreadyRegistered",translation:"email_already_registered",color:2},{id:"emailOrPasswordInvalid",translation:"email_or_password_invalid",color:0},{id:"emailInactive",translation:"email_inactive",color:0},{id:"fieldInvalid",translation:"field_invalid",color:0},{id:"passwordExpired",translation:"password_expired",color:0},{id:"captchaInvalid",translation:"captcha_invalid",color:0},{id:"checkboxInvalid",translation:"checkbox_invalid",color:0},{id:"userNameInvalid",translation:"user_name_invalid",color:2},{id:"userNotFound",translation:"user_not_found",color:0},{id:"userAlreadyRegistered",translation:"user_already_registered",color:0},{id:"specialCharactersNotAllowed",translation:"special_characters_not_allowed",color:0},{id:"registerDone",translation:"register_done",color:1}]}getCode(t){const e=((t,e)=>this[t].find((t=>t.id===e)))("codes",t),n=e.color,i=e.translation;return{translation:libTranslate.translation.default.code[i],color:n}}}export class Component{constructor(){this.entityBlank="&nbsp;"}buildAttributeClass(t){const e=t=>void 0!==t?i+=t+n:"",n=" ";let i="";return e(t.css),e(t.cssSize),e(t.cssStyle),e(t.cssComponent),i.slice(-1)===n&&(i=i.slice(0,-1)),t.css?` class="${i}" `:""}buildAttributeChange(t){return void 0!==t.change?` onchange="${t.change}" `:""}buildAttributeClick(t){return t.onclick?` onclick="${t.onclick}" `:""}buildAttributeData(t){const e=t.dataCustom;let n=" ";if(!e)return n;return Object.entries(e).forEach((([,t])=>{const e=t.label,i=t.value;n+=` data-${e}="${i}" `})),n}buildAttributeFor(t){return void 0!==t.id?` for="${t.prefix}_${t.id}" `:""}buildAttributeId(t){return void 0!==t.id?` id="${t.prefix}_${t.id}" `:""}buildAttributeLabel(t){const e=this.buildAttributeFor(t);return void 0!==t.label?`<label ${e}>${t.label}</label>`:this.entityBlank}buildAttributeMax(t){return void 0!==t.max?` max="${t.max}" `:""}buildAttributeMin(t){return void 0!==t.min?` min="${t.min}" `:""}buildAttributeType(t){return` type="${void 0!==t.type?t.type:"text"}" `}buildAttributeValue(t){return void 0!==t.value?` value="${t.value}" `:""}buildButton(t){t.prefix=t.prefix||"ds-button",t.css=t.prefix,t.cssSize=void 0!==t.cssSize?`${t.prefix}--${t.cssSize}`:`${t.prefix}--regular`,t.cssStyle=void 0!==t.cssStyle?`${t.prefix}--${t.cssStyle}`:"",t.cssComponent=t?.cssComponent||"";const e=this.buildAttributeId(t),n=this.buildAttributeClick(t),i=this.buildAttributeData(t),o=this.buildAttributeClass(t),s=t?.text||"",a=t?.icon||"";return`<button type="button" ${o} ${e} ${i} ${t?.attribute||""} ${n}>${a}${s}</button>`}drawCloseButton(t){const e=t?.color||"grey",n=t?.size||"extra-small";return t.cssSize=n,t.cssStyle=` ds-button--proportional ds-button--${e} ds-button--close ds-button--rounded`,t.ariaLabel=layout.translation?.close?layout.translation?.close:"close",t.text="X",this.buildButton(t)}buildCard(t){const e=void 0!==t.header&&t.header,n=void 0!==t.content?t.content:this.entityBlank,i=void 0!==t.footer&&t.footer;return`\n            <div class="card">\n                ${e?`\n            <header>\n                <h4 class="card-title">${e}</h4>\n            </header>\n        `:""}\n                <div class="card-body">\n                    <div class="responsive-row">\n                        <div class="responsive-column-regular-12">\n                            ${n}\n                        </div>\n                    </div>\n                </div>\n                ${i?`\n            <footer>\n                ${i}\n            </footer>\n        `:""}\n            </div>\n        `}buildMenuTab(t){const e=Object.entries(t);let n="";return n+='\n            <div class="responsive-row">\n                <div class="responsive-column-regular-12">\n                    <nav class="menu-tab menu menu-horizontal menu-drop-down">\n                        <ul>\n        ',e.forEach((([,t])=>{n+=`<li>${t}</li>`})),n+="\n                        </ul>\n                    </nav>\n                </div>\n            </div>\n        ",n}buildMenuTabContent(t){const e=Object.entries(t);let n="";return n+='\n            <div class="responsive-row">\n                <div class="responsive-column-regular-12">\n                    <div class="menu-tab-box">\n        ',e.forEach((([,t])=>{n+=t})),n+="\n                    </div>\n                </div>\n            </div>\n        ",n}buildIcon(t){const e=t.rotate?`rotate-${t.rotate}`:"",n=t.color?`icon--${t.color}`:"",i=t.size||"regular",o=t.icon||"",s=this.buildIconSVG({rotate:e,color:n,size:i,icon:o}),a=`<span class="fa fa fa-${o} icon icon--${i} ${e} ${n}" aria-hidden="true"></span>`;return!!t.isFA&&t.isFA?a:s}buildIconSVG(t){const e=t.rotate?`ds-${t.rotate}`:"",n=t.color?`ds-${t.color}`:"",i=t.size||"regular",o=t.icon;return`\n            <svg class="ds-icon ds-icon--${i} ${e} ${n}">\n                <use xlink:href="${`${globalPathAssets}wf/${globalVersion.wf}/icon.svg#`+o}"></use>\n            </svg>\n        `}buildInput(t){t.prefix="input";const e=this.buildAttributeId(t),n=this.buildAttributeChange(t),i=this.buildAttributeData(t),o=this.buildAttributeType(t),s=t.attribute?t.attribute:"";return`<input ${e} ${i} ${o} ${this.buildAttributeValue(t)} ${n} ${this.buildAttributeMax(t)} ${this.buildAttributeMin(t)} class="input" ${s}>`}buildLoading(t){const e=t=>`<div class="loading loading-2 loading-2--${t.size} loading-2--${t.color} animate"></div>`,n=t?.color?t.color:"grey",i=t?.size?t.size:"regular";return`\n            <div class="loading ${t?.alignment?t.alignment:"center"}">\n                ${e({size:i,color:n})}\n                ${e({size:i,color:n})}\n                ${e({size:i,color:n})}\n            </div>\n        `}buildSelect(t){t.prefix="select";const e=this.buildAttributeId(t),n=this.buildAttributeLabel(t),i=this.buildAttributeData(t),o=void 0!==t.optionDefault,s=void 0!==t.option&&t.option;let a=`\n            <div class="form-field responsive-row">\n                <div class="responsive-column-regular-4">\n                    ${n}\n                </div>\n                <div class="responsive-column-regular-8">\n                    <select ${e} ${i} ${this.buildAttributeChange(t)} class="input">\n        `;if(!o){t.value=!1;const e="Selecione",n=this.buildAttributeValue(t);a+=`<option selected="true" ${n}>${e}</option>`}if(s){Object.entries(s).forEach((([,e])=>{const n=[{label:"price",value:e.dataPrice}];t.dataCustom=n,t.value=e.value;const i=this.buildAttributeValue(t),o=this.buildAttributeData(t);a+=`<option ${i} ${o}>${e.text}</option>`}))}return a+="\n                    </select>\n                </div>\n            </div>\n        ",a}}export class ComponentModal{drawModal(t){const e=t.size?t.size:"regular",n=t.content?t.content:"",i=t.color?t.color:"grey";return`\n            <div class="ds-modal" style="z-index:${this.drawModalZIndex()}">\n                <div class="ds-modal__box ds-modal--${e} ds-modal--${i} ds-content-theme">\n                    ${n}\n                </div>\n            </div>\n        `}drawModalZIndex(){const t=window.libModal?.getElModal();let e=5;if(t.length>0){const n=t[0];e=Number(n.style.zIndex)+1}return e}drawModalContent(t){return`\n            ${this.drawModalHeader(t)}\n            <div class="ds-row">\n                <div class="ds-modal__content">\n                    ${t?.content||""}\n                </div>\n            </div>\n        `}drawModalDresciption(t){const e=t.description;if(!e)return"";return`<p class="ds-modal__description">${e}</p>`}drawModalFooter(t){return`\n            <footer class="ds-button-wrapper ds-modal__footer ds-right">\n                ${t.content?t.content:""}\n            </footer>\n        `}drawModalHeader(t){const e=t?.title||!1,n=this.component.drawCloseButton({onclick:"window.libModal.close(this)",color:"red"});let i="";return e&&(i+=`\n            <header class="ds-page__header">\n                <div class="ds-content__close">\n                    ${n}\n                </div>\n                <div class="ds-center">\n                    <div class="ds-ribbon">\n                        <div class="ds-ribbon__content">\n                            <div class="ds-center">\n                                <div class="ds-content__title">\n                                    <h2 class="ds-title">${e}</h2>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </header>\n        `),i}drawModalNavigation(t){const e=t?.target;if(!e)return;const n=libGallery.currentGalleryItens,i=libGallery.currentGalleryIndex,o=0===i,s=n.length===i+1,a=this.component.buildIcon({size:"extra-big",icon:"previous",color:"white"}),r=this.component.buildIcon({rotate:"180",size:"extra-big",icon:"previous",color:"white"});return`\n            <div class="navigation-change button-wrapper row center">\n                ${this.component.buildButton({size:"big",ariaLabel:layout.translation.previous,icon:a,css:o?"hide":"",onclick:"libGallery.handlePrevious();"})}\n                ${this.component.buildButton({size:"big",ariaLabel:layout.translation.next,icon:r,css:s?"hide":"",onclick:"libGallery.handleNext();"})}\n            </div>\n        `}init(){this.update()}update(){this.component=window.libComponent}}export class DataLayerModify{constructor(){this.textDefault="nao-definido"}addPageView(){const t=window.location,e=t.href,n=t.origin,i=t.href,o=this.validateText(t.pathname.split("/")[1]),s=this.validateText(e.replace(n,"")),a=this.validateText(document.referrer),r=this.validateText(document.title);this.push({event:"pageview",location:i,pagetype:o,path:s,referrer:a,title:r})}push(t){dataLayer.push(t)}update(t){const e=this.validateText(t.action),n=this.validateText(t.label),i=this.validateText(t.category);this.push({event:"gaEvent",eventCategory:i,eventAction:e,eventLabel:n})}validateText(t){return void 0===t||""===t||"/"===t?this.textDefault:String(t)}}export class Helper{constructor(){this.elBody=document.querySelector("body"),this.cssDisplayNone="display-none",this.origin,this.isDebug=!0,this.idCaptcha="captcha",this.modalSizeDefault="extra-small"}addChange(t,e){t&&this.addEvent({el:t,action:e,event:"change"})}addClick(t,e){t&&this.addEvent({el:t,action:e,event:"click"})}addEvent(t){const e=t.action,n=t.el,i=t.event;n&&(n.removeEventListener(i,e),n.addEventListener(i,e))}addClass(t,e){t&&e&&(e instanceof Array?e.forEach((e=>{t.classList.add(e)})):t.classList.add(e))}fetchData(t){if(!t.endpoint)return;const e=t.endpoint,n=`${window.urls.endpoints+e}/`;return new Promise((e=>{fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(t)}).then((t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((t=>{e(t)})).catch((t=>{console.error("Error:",t)}))}))}ajax(t){return new Promise(((e,n)=>{const i=window?.urls?.game||"",o=t.controller?i+t.controller:`${i}php/controller.php`,s=t.namespace||"Game",a=t?.token||gameLayout?.token,r=t.kind||"POST";let l=new XMLHttpRequest;l.open(r,o,!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.onload=()=>{l.status>=200&&l.status<300&&(this.ajaxLoaded(l.responseText),e(l.responseText)),n(l.statusText)},l.onerror=()=>n(l.statusText),l.send(`&n=${s}&t=${a+t.parameter}`)}))}ajaxLoaded(t){const e="session_expired"===t||"maintenance"===t;if(this.verifyParse(t)){const e=JSON.parse(t);if("game"===this.origin)return gamePageAchievement.verifyNotification(e)}e&&gameLayout.decodeMessage(t)}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}drawCaptcha(t=""){return`<div id="${this.idCaptcha+t}"></div>`}debug(t){const e="object"==typeof t;this.isDebug&&(e?console.table(t):console.log(t))}findInObject(t){const e=t.target,n=t.search,i=t.value,o=t.get,s=e.length;for(let t=0;t<s;t++){const s=e[t];if(s[n]===i)return!1!==o?s[o]:t}}getCaptchaResponse(){return grecaptcha.getResponse()}getSelectValue(t){return t?.options?.[t.selectedIndex]?.value}getSize(t){return parseFloat(getComputedStyle(t.el,null)[t.value].replace("px",""))}getTranslateValue(t){if(void 0===t)return;const e=window.getComputedStyle(t).transform;if("none"===e)return{x:0,y:0,z:0};const n=e.includes("3d")?"3d":"2d",i=e.match(/matrix.*\((.+)\)/)[1].split(", ");return"2d"===n?{x:Number(i[4]),y:Number(i[5]),z:0}:"3d"===n?{x:Number(i[12]),y:Number(i[13]),z:Number(i[14])}:void 0}getUrlParameter(t){const e=top.location.search.substring(1).split("&");for(let n=0;n<e.length;n++){const i=e[n].split("=");if(i[0]===t)return i[1]}}getUrlWord(t){return new RegExp("\\b"+t+"\\b","i").test(window.location.href)}height(t){return this.getSize({el:t,value:"height"})}hide(t){this.addClass(t,this.cssDisplayNone)}async handleResponse(t){const e=t?.isError||!1,n=t?.isNotification||!1,i=t?.code||!1,o=t?.size||this.modalSizeDefault,s=t.title||!1,a=!!i&&libCode.getCode(i),r=a?a.color:"grey",l=a?a.translation:"",c={};return o&&(c.size=o),r&&(c.color=r),s&&(c.title=s),l&&(c.content=l),e&&libModal.open(c),n&&libModal.open(c),e}isElementVisible(t){return null!==t?.offsetParent}isLocalHost(){return this.getUrlWord("localhost")}isStringEmpty(t){return""===t||void 0===t||null===t}isJson(t){try{const e=JSON.parse(t);return e instanceof Array||e instanceof Object}catch(t){return!1}}offset(t){let e=t.getBoundingClientRect();const n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+i,left:e.left+n}}randomInArray(t){const e=Math.random()*t.length;return t[Math.floor(e)]}randomNumber(t){const e=Math.random()*t;return Math.floor(e)}remove(t){t&&null!==t.parentNode&&t.parentNode.removeChild(t)}removeClass(t,e){t&&e&&(e instanceof Array?e.forEach((e=>{this.removeClassExecute(t,e)})):this.removeClassExecute(t,e))}removeClassExecute(t,e){t.classList.contains(e)&&t.classList.remove(e)}removeInArray(t){const e=t.arr,n=e.indexOf(t.value);e.splice(n,1)}renderCaptcha(t=""){const e=document.getElementById(this.idCaptcha+t),n=libVariable.recaptcha;e&&(e.setAttribute("class","g-recaptcha"),e.setAttribute("data-sitekey",n),e.setAttribute("data-action","LOGIN"),grecaptcha.render&&grecaptcha.render(e,{sitekey:n,action:"LOGIN"}))}resetCaptcha(){grecaptcha.reset()}setInputValue(t,e){t&&(t.value=e)}show(t){this.removeClass(t,this.cssDisplayNone)}sortSelect(t){const e=t.options.length;let n=[];for(let i=0;i<e;i++)n[i]=[],n[i][0]=t.options[i].text,n[i][1]=t.options[i].value;for(n.sort();t.options.length>0;)t.options[0]=null;for(let e=0;e<n.length;e++){let i=new Option(n[e][0],n[e][1]);t.options[e]=i}}toggleButtonEnabled(t){const e=t.button,n=t.action,i="disabled";if(n)return e.setAttribute(i,n);e.removeAttribute(i)}toggleClass(t,e){if(t.classList.contains(e))return t.classList.remove(e);t.classList.add(e)}trigger(t,e){const n=new Event(e);t.dispatchEvent(n)}useStorage(t){const e=t.target,n=`october_31_${globalVersion.game?globalVersion.game:""}_`;switch(t.action){case"set":window.localStorage.setItem(n+e,t.value);break;case"get":return window.localStorage.getItem(n+e);case"remove":window.localStorage.removeItem(n+e)}}validateCaptcha(){const t={isError:!0,code:"captchaInvalid"};return!(!grecaptcha||0===this.getCaptchaResponse().length)||(t.size=this.modalSizeDefault,t.title=layout.translation.interface.response.response,this.handleResponse(t),this.resetCaptcha(),!1)}validateEmptySpace(t){return-1!==t.value.indexOf(" ")}validateEmail(t){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value);return this.validateFormField(t,e),e}validateFormFieldEmpty(t){const e=""!==t.value;return this.validateFormField(t,e),e}validateFormField(t,e){const n="form__input--invalid";e?this.removeClass(t,n):this.addClass(t,n)}verifyParse(t){try{JSON.parse(t)}catch(t){return!1}return!0}verifyUrlRoute(t){return window.location.pathname.split("/").indexOf(t)>-1}width(t){return this.getSize({el:t,value:"width"})}wrapItem(t,e){const n=document.createElement("div");n.className=e,t.parentNode.insertBefore(n,t),n.appendChild(t)}}export class MenuDropDown{update(){this.isClickBuild=!1,this.classMenu="ds-drop-down",this.classMenuText=`${this.classMenu}-text`,this.cssDropDownContent=`${this.classMenu}__content`,this.cssOpend=`${this.cssDropDownContent}--opened`,this.cssMobileShow="ds-mobile-show",this.cssActive="ds-button--active",this.elMenu=document.querySelectorAll(`.${this.classMenu}, .${this.classMenuText}`),this.addClickAction=this.addClickAction.bind(this),this.close=this.close.bind(this)}addClick(){this.elMenu.forEach((t=>{const e=t.querySelectorAll(".ds-button:first-child, .ds-link:first-child")[0];libHelper.addClick(e,this.addClickAction)}))}addClickAction(t){const e=t.target.parentNode.querySelector(`.${this.cssDropDownContent}`),n=t.target;null!==e&&(libHelper.addClass(e,this.cssOpend),libHelper.addClass(n,this.cssActive))}close(){const t=window.libMenuDropDown;"string"!==t?.elMenu&&t?.elMenu.forEach((e=>{const n=e.querySelector(`.${t.cssDropDownContent}`),i=e.querySelector(".ds-button");null!==n&&(libHelper.removeClass(n,this.cssOpend),libHelper.removeClass(i,this.cssActive))}))}init(){this.update(),this.elMenu&&(this.isClickBuild||(this.isClickBuild=!0,this.addClick()),document.addEventListener("click",this.close,!0))}listener(t){const e=document.querySelectorAll(`.${window.libMenuDropDown.cssMobileShow}`);t.toElement.classList.contains("button")||t.toElement.classList.contains("link")||e.forEach((t=>{libHelper.removeClass(t,window.libMenuDropDown.cssMobileShow)}))}reset(){document.removeEventListener("click",this.listener,!0),window.libMenuDropDown.init()}}export class Modal{constructor(){this.cssButtonClose="ds-button--close"}close(t){t.parentNode.parentNode.parentNode.parentNode.remove()}closeByKey(){const t=this.getElModal(),e=t.length,n=t[0],i=n?.querySelector(`.${this.cssButtonClose}`);e<1||i.click()}async draw(t){const e=t?.title||layout.translation.interface.response.response,n="ajax"===t?.kind||!1?await window.libHelper.ajax({controller:t.content}):t.content,i=window.libComponentModal,o=i.drawModalContent({title:e,content:n}),s=i.drawModal({size:t.size,content:o});this.show(s)}getElModal(){return document.querySelectorAll(".ds-modal")}async open(t){await this.draw(t),void 0!==window.libMenuDropDown&&window.libMenuDropDown.reset()}show(t){window.libHelper.elBody.insertAdjacentHTML("afterbegin",t)}}export class Notification{constructor(){this.elBody=document.querySelector("body"),this.id="notification",this.colorDefault="grey",this.notificationId=0}add(t){if(!t.content)return;this.placeItem(t);const e=document.querySelector(`#${this.id+this.notificationId}`);this.remove(e,t.content.length),this.notificationId++}buildHtml(t){const e=t.id?`id="${this.id}_${t.id}"`:"",n=t.position?t.position:"left",i=t.content?t.content:"";return`<div ${e} class="${this.id} ${this.id}--${n}">${i}</div>`}buildHtmlDefault(){let t="";["center","left","right"].forEach((e=>{t+=this.buildHtml({id:e,position:e})})),this.elBody.insertAdjacentHTML("beforeend",t)}buildHtmlItem(t){const e=void 0!==t.color?t.color:this.colorDefault,n=void 0!==t.size?t.size:"regular",i=window?.translation?.translation?.close?window?.translation?.translation?.close:"close",o=libComponent.buildIcon({rotate:"45",size:"regular",icon:"plus"});return`\n            <div class="${this.id}__item ${this.id}--${n} ${this.id}--${e}" id="${this.id}${this.notificationId}">\n                <span class="${this.id}__text">${t.content}</span>\n                <button type="button" \n                    class="button button--small button--small--proportional button--transparent" \n                    onclick="wfpNotification.remove(this.parentNode, 0)" \n                    aria-label="${i}"\n                >\n                    ${o}\n                </button>\n            </div>\n        `}init(){this.buildHtmlDefault()}placeItem(t){const e=void 0!==t.place,n=void 0!==t.position?t.position:"right";let i=this.buildHtmlItem(t),o="";if(e){let e=document.querySelector(t.place).querySelector(`.${this.id}`);if(null===e){i=this.buildHtml({content:i,position:n}),o=document.querySelector(t.place)}else e.style.position="relative",o=e}else o=document.getElementById(`${this.id}_${n}`);o&&o.insertAdjacentHTML("beforeend",i)}remove(t,e){setTimeout((()=>{this.removeItem(t)}),150*e)}removeItem(t){null!==t.parentNode&&t.parentNode.removeChild(t)}}export class Translate{constructor(){this.node="translation",this.translation={},this.init()}getLocalStorage(t){const e=libHelper.useStorage({action:"get",target:t});return JSON.parse(e)}getTranslation(){return this.getLocalStorage(this.node)}init(){const t=this.getLocalStorage(this.node),e=globalVersion.translation,n=globalLanguage,i={version:e,language:n};t?(n!==t?.language||e!==t?.version)&&this.setLocalStorage(this.node,i):this.setLocalStorage(this.node,i)}setLocalStorage(t,e){const n=JSON.stringify(e);libHelper.useStorage({action:"set",target:t,value:n})}async translate(t){const e=this.getLocalStorage(this.node),n=void 0!==e[t]?e[t]:await this.requestFile(t);return this.translation[t]=n,n}async requestFile(t){const e=globalPathAssets,n=globalLanguage,i=`${e}translation/${globalVersion.translation}/${n}/${t}.json`;return new Promise((async(e,n)=>{try{const n=this.getLocalStorage(this.node),o=await fetch(i),s=await o.json();n[t]=s,this.setLocalStorage(this.node,n),e(s)}catch(t){n(t)}}))}}export class Variable{constructor(){this.account={guest:{email:"guest@october31.com.br",password:"AcC4654@!jjsdf"}},this.recaptcha="6LfggRMaAAAAAGtcCInz0HXWEKcnJYxaeQTKrPnT"}}